(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return s(1507)}])},1507:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var a=s(5893),n=s(9008),i=s.n(n),l=s(7294),r=s(7066);function c(){let[e,t]=(0,l.useState)(null),[s,n]=(0,l.useState)([]),[c,d]=(0,l.useState)([]),[m,h]=(0,l.useState)(!0);return((0,l.useEffect)(()=>{(async function(){try{let e=await r.Z.get("http://localhost:4000/api/user",{withCredentials:!0});if(t(e.data.user),e.data.user&&e.data.user.isAdmin){let e=await r.Z.get("http://localhost:4000/api/admin/users",{withCredentials:!0});n(e.data);let t=await r.Z.get("http://localhost:4000/api/admin/bots",{withCredentials:!0});d(t.data)}}catch(e){console.error(e)}finally{h(!1)}})()},[]),m)?(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-pirateBlack text-pirateGold",children:(0,a.jsx)("p",{children:"Loading..."})}):e&&e.isAdmin?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i(),{children:(0,a.jsx)("title",{children:"Admin Panel - Pirate Steam Trade Platform"})}),(0,a.jsxs)("main",{className:"min-h-screen bg-pirateBlack text-pirateGold p-8 font-pirate",children:[(0,a.jsx)("h1",{className:"text-4xl mb-6",children:"Admin Panel"}),(0,a.jsxs)("section",{className:"mb-8",children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"Users"}),(0,a.jsx)("ul",{children:s.map(e=>(0,a.jsxs)("li",{children:[e.personaName," - SteamID: ",e.steamId," - Admin: ",e.isAdmin?"Yes":"No"]},e._id))})]}),(0,a.jsxs)("section",{children:[(0,a.jsx)("h2",{className:"text-2xl mb-4",children:"Bots"}),(0,a.jsx)("ul",{children:c.map(e=>(0,a.jsxs)("li",{children:[e.personaName," - SteamID: ",e.steamId," - Status: ",e.status]},e._id))})]})]})]}):(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-pirateBlack text-pirateGold",children:(0,a.jsx)("p",{children:"Access denied. Admins only."})})}}},function(e){e.O(0,[703,774,888,179],function(){return e(e.s=4730)}),_N_E=e.O()}]);